(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[971],{3681:function(e,t,n){Promise.resolve().then(n.bind(n,6337))},6337:function(e,t,n){"use strict";n.r(t);var s=n(3827),a=n(4090),i=n(7907);n(1673);var r=n(3605),l=n(8121),o=n(2730);t.default=()=>{let e=(0,i.useRouter)(),[t,n]=(0,a.useState)(!0),[c,d]=(0,a.useState)(0),[u,h]=(0,a.useState)({rent_cost:"",ownership_status:"",other_ownership_status:"",employment_type:"",other_employment_type:"",total_income:"",account_balance:"",credit_length:"",credit_limit:"",credit_line_status:"",credit_overdue:"",total_loans:"",total_credit_cards:""});(0,a.useEffect)(()=>{let t=r.I.onAuthStateChanged(t=>{t?n(!1):e.push("/login")});return()=>t()},[e]);let p=(e,t)=>{h({...u,[e]:t})},m=()=>{d(e=>e+1)},x=()=>{d(e=>e-1)},[j,v]=(0,a.useState)(null);async function y(e,t){try{let n=(0,o.v0)().currentUser;if(!n){console.error("No authenticated user.");return}console.log("authenticated user");let s=await n.getIdToken();console.log(s);let a=await fetch("/api/fico_score",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)},body:JSON.stringify({user_id:e,app_id:t})});if(!a.ok)throw Error("HTTP error! Status: ".concat(a.status));let i=await a.json();v(null==i?void 0:i["fico Score"]),console.log("Response from server:",i)}catch(e){console.error("Error sending application submitted request:",e)}}let _=async()=>{let e=r.I.currentUser;if(!e){console.error("No authenticated user.");return}try{let t="Other"===u.ownership_status?u.other_ownership_status:u.ownership_status,n="Other"===u.employment_type?u.other_employment_type:u.employment_type,s=[{rent_cost:u.rent_cost},{ownership_status:t},{employment_type:n},{total_income:u.total_income},{account_balance:u.account_balance},{credit_length:u.credit_length},{credit_limit:u.credit_limit},{credit_line_status:u.credit_line_status},{credit_overdue:u.credit_overdue},{total_loans:u.total_loans},{total_credit_cards:u.total_credit_cards}],a=await (0,l.ET)((0,l.hJ)(r.db,"users",e.uid,"creditScoreResponses"),{responses:s,timestamp:new Date});d(e=>e+1),a&&a.id?y(e.uid,a.id):console.error("Document creation failed. No ID returned.")}catch(e){console.error("Error saving credit score data:",e)}};return t?(0,s.jsx)("div",{children:"Loading..."}):(0,s.jsx)("div",{className:"credit-score-container",children:(0,s.jsxs)("div",{className:"credit-score-section",children:[0===c&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"highlight",children:"Credit Score Information"}),(0,s.jsx)("p",{children:"Please provide your housing information below."}),(0,s.jsx)("label",{children:"How much do you typically pay for rent each month?"}),(0,s.jsx)("input",{type:"number",placeholder:"Enter rent cost",className:"text-input",value:u.rent_cost,onChange:e=>p("rent_cost",e.target.value)}),(0,s.jsx)("label",{children:"Do you rent, own your home, or live with family/friends?"}),(0,s.jsxs)("select",{className:"text-input",value:u.ownership_status,onChange:e=>p("ownership_status",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select"}),(0,s.jsx)("option",{value:"Rent",children:"Rent"}),(0,s.jsx)("option",{value:"Own your home",children:"Own your home"}),(0,s.jsx)("option",{value:"Live with family/friends",children:"Live with family/friends"}),(0,s.jsx)("option",{value:"Other",children:"Other"})]}),"Other"===u.ownership_status&&(0,s.jsx)("div",{children:(0,s.jsx)("input",{type:"text",placeholder:"Please specify other ownership status",className:"text-input",value:u.other_ownership_status,onChange:e=>p("other_ownership_status",e.target.value)})}),(0,s.jsx)("div",{className:"navigation-buttons",children:(0,s.jsx)("button",{className:"next-button",onClick:m,children:"Next"})})]}),1===c&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"highlight",children:"Income Information"}),(0,s.jsx)("label",{children:"What type of employment are you currently in? (e.g., full-time, part-time, student job, etc.)"}),(0,s.jsxs)("select",{className:"text-input",value:u.employment_type,onChange:e=>p("employment_type",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select"}),(0,s.jsx)("option",{value:"Full-time",children:"Full-time"}),(0,s.jsx)("option",{value:"Part-time",children:"Part-time"}),(0,s.jsx)("option",{value:"Student job",children:"Student job"}),(0,s.jsx)("option",{value:"Other",children:"Other"})]}),"Other"===u.employment_type&&(0,s.jsx)("div",{children:(0,s.jsx)("input",{type:"text",placeholder:"Please specify other employment type",className:"text-input",value:u.other_employment_type,onChange:e=>p("other_employment_type",e.target.value)})}),(0,s.jsx)("label",{children:"What’s your total monthly income (before taxes)?"}),(0,s.jsx)("input",{type:"number",placeholder:"Enter total income",className:"text-input",value:u.total_income,onChange:e=>p("total_income",e.target.value)}),(0,s.jsxs)("div",{className:"navigation-buttons",children:[(0,s.jsx)("button",{className:"back-button",onClick:x,children:"Go Back"}),(0,s.jsx)("button",{className:"next-button",onClick:m,children:"Next"})]})]}),2===c&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"highlight",children:"Account Balance"}),(0,s.jsx)("label",{children:"What’s the current balance in your primary bank account?"}),(0,s.jsx)("input",{type:"number",placeholder:"Enter account balance",className:"text-input",value:u.account_balance,onChange:e=>p("account_balance",e.target.value)}),(0,s.jsxs)("div",{className:"navigation-buttons",children:[(0,s.jsx)("button",{className:"back-button",onClick:x,children:"Go Back"}),(0,s.jsx)("button",{className:"next-button",onClick:m,children:"Next"})]})]}),3===c&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"highlight",children:"Credit History"}),(0,s.jsx)("label",{children:"How long have you had credit accounts (e.g., credit cards, loans)?"}),(0,s.jsxs)("select",{className:"text-input",value:u.credit_length,onChange:e=>p("credit_length",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select"}),(0,s.jsx)("option",{value:"< 1",children:"< 1 year"}),Array.from({length:20},(e,t)=>t+1).map(e=>(0,s.jsxs)("option",{value:e,children:[e," ",1===e?"year":"years"]},e))]}),(0,s.jsx)("label",{children:"What’s the total credit limit on all your credit cards and lines of credit?"}),(0,s.jsx)("input",{type:"number",placeholder:"Enter credit limit",className:"text-input",value:u.credit_limit,onChange:e=>p("credit_limit",e.target.value)}),(0,s.jsx)("label",{children:"Have any of your credit lines been closed or suspended recently?"}),(0,s.jsxs)("select",{className:"text-input",value:u.credit_line_status,onChange:e=>p("credit_line_status",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select"}),(0,s.jsx)("option",{value:"Yes",children:"Yes"}),(0,s.jsx)("option",{value:"No",children:"No"})]}),(0,s.jsx)("label",{children:"Do you currently have any overdue payments on your credit accounts?"}),(0,s.jsxs)("select",{className:"text-input",value:u.credit_overdue,onChange:e=>p("credit_overdue",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select"}),(0,s.jsx)("option",{value:"Yes",children:"Yes"}),(0,s.jsx)("option",{value:"No",children:"No"})]}),(0,s.jsx)("label",{children:"How many active loans (e.g., student loans, car loans) do you have right now?"}),(0,s.jsx)("input",{type:"number",placeholder:"Enter number of loans",className:"text-input",value:u.total_loans,onChange:e=>p("total_loans",e.target.value)}),(0,s.jsx)("label",{children:"How many active credit cards do you have right now?"}),(0,s.jsx)("input",{type:"number",placeholder:"Enter number of credit lines",className:"text-input",value:u.total_credit_cards,onChange:e=>p("total_credit_cards",e.target.value)}),(0,s.jsxs)("div",{className:"navigation-buttons",children:[(0,s.jsx)("button",{className:"back-button",onClick:x,children:"Go Back"}),(0,s.jsx)("button",{className:"next-button",onClick:m,children:"Next"})]})]}),4===c&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"highlight",children:"Review and Submit"}),(0,s.jsx)("p",{children:'Please review your information and click "Finish" to submit.'}),(0,s.jsxs)("div",{className:"navigation-buttons",children:[(0,s.jsx)("button",{className:"back-button",onClick:x,children:"Go Back"}),(0,s.jsx)("button",{className:"next-button",onClick:_,children:"Finish"})]})]}),5===c&&(0,s.jsx)("div",{className:"final-credit-score-container",children:(()=>{let t=null!=j?j:0,n=t/850;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h1",{className:"credit-health-title",children:"Credit Health"}),(0,s.jsxs)("h2",{className:"credit-score-subtitle",children:[t," out of ",850]}),(0,s.jsxs)("div",{className:"credit-score-content",children:[(0,s.jsxs)("div",{className:"score-gauge",children:[(0,s.jsxs)("div",{className:"gauge-container",children:[(0,s.jsx)("div",{className:"gauge",style:{"--progress":"".concat(90+180*n,"deg")}}),(0,s.jsx)("div",{className:"gauge-score",children:t})]}),(0,s.jsxs)("p",{className:"score-text",children:["FICO SCORE",(0,s.jsx)("br",{}),"GOOD"]})]}),(0,s.jsxs)("div",{className:"credit-factors",children:[(0,s.jsx)("h3",{children:"Credit Factors"}),(0,s.jsx)("p",{children:"Dig into your credit card and payment history first. You can improve those factors quickly."}),(0,s.jsxs)("ul",{children:[(0,s.jsxs)("li",{children:[(0,s.jsx)("span",{children:"New Credit"}),(0,s.jsx)("span",{children:"10%"})]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("span",{children:"Amounts Owed"}),(0,s.jsx)("span",{children:"30%"})]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("span",{children:"Length of Credit History"}),(0,s.jsx)("span",{children:"15%"})]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("span",{children:"Credit Mix"}),(0,s.jsx)("span",{children:"10%"})]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("span",{children:"Payment History"}),(0,s.jsx)("span",{children:"35%"})]})]}),(0,s.jsx)("p",{className:"disclaimer",children:"In no way is this a precise reflection of the actual FICO/Vantage score. This is strictly for demonstration purposes and does not represent any form of financial equivalence."})]})]}),(0,s.jsx)("button",{className:"first-back-button",onClick:()=>e.push("/"),children:"Return to Home"})]})})()})]})})}},3605:function(e,t,n){"use strict";n.d(t,{I:function(){return o},db:function(){return c},t:function(){return d}});var s=n(6142),a=n(2730),i=n(8121),r=n(4905);let l=(0,s.ZF)({apiKey:"AIzaSyDOtb6YCz277ulMA94ehs_yM3mDDT5lnF4",authDomain:"unipayf24.firebaseapp.com",projectId:"unipayf24",storageBucket:"unipayf24.firebasestorage.app",messagingSenderId:"611946450050",appId:"1:611946450050:web:39b94fae0051e7bf3cb89b",measurementId:"G-XW6S94C7H8"}),o=(0,a.v0)(l),c=(0,i.ad)(l),d=(0,r.cF)(l)},1673:function(){}},function(e){e.O(0,[358,315,753,478,69,744],function(){return e(e.s=3681)}),_N_E=e.O()}]);