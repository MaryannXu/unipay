(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[971],{3681:function(e,t,n){Promise.resolve().then(n.bind(n,3926))},3926:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var s=n(3827),i=n(4090),a=n(8745),r=n(5293),o=n(7907);n(1673);var l=n(3605),c=n(8121),u=n(2730);let d=(0,i.forwardRef)((e,t)=>{let{isOpen:n,text:i}=e;return(0,s.jsx)("div",{ref:t,className:"dropdown-container",style:{position:"absolute",zIndex:10},children:(0,s.jsx)(a.M,{children:n&&(0,s.jsx)(r.E.div,{className:"dropdown-content",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-10,scaleY:.95},transition:{duration:.3},style:{background:"white",padding:"10px",borderRadius:"5px",boxShadow:"0px 4px 6px rgba(0, 0, 0, 0.1)"},children:(0,s.jsx)("p",{children:i})})})})});var h=()=>{var e;let t=(0,o.useRouter)(),[n,h]=(0,i.useState)(!0),[p,m]=(0,i.useState)(0),[x,y]=(0,i.useState)({rent_cost:"",ownership_status:"",other_ownership_status:"",employment_type:"",other_employment_type:"",total_income:"",account_balance:"",credit_length:"",credit_limit:"",credit_line_status:"",credit_overdue:"",total_loans:"",total_credit_cards:""}),[_,v]=(0,i.useState)(null),f=(0,i.useRef)(null);(0,i.useEffect)(()=>{let e=l.I.onAuthStateChanged(e=>{e?h(!1):t.push("/login")});return()=>e()},[t]);let j=(e,t)=>{y({...x,[e]:t})},b=()=>{m(e=>e+1)},g=()=>{m(e=>e-1)},[w,N]=(0,i.useState)(null),[C,k]=(0,i.useState)({payment_history_status:"",credit_utilization_status:"",credit_history_status:"",new_credit_status:"",credit_mix_status:""});async function E(e,t){try{let n=(0,u.v0)().currentUser;if(!n){console.error("No authenticated user.");return}console.log("authenticated user");let s=await n.getIdToken();console.log(s);let i=await fetch("/api/fico_score",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)},body:JSON.stringify({user_id:e,app_id:t})});if(!i.ok)throw Error("HTTP error! Status: ".concat(i.status));let a=await i.json();N(null==a?void 0:a["fico Score"]);let r={payment_history_status:a.payment_history_status,credit_utilization_status:a.credit_utilization_status,credit_history_status:a.credit_history_status,new_credit_status:a.new_credit_status,credit_mix_status:a.credit_mix_score};k(r),console.log("Response from server:",a)}catch(e){console.error("Error sending application submitted request:",e)}}let S=async()=>{let e=l.I.currentUser;if(!e){console.error("No authenticated user.");return}try{let t="Other"===x.ownership_status?x.other_ownership_status:x.ownership_status,n="Other"===x.employment_type?x.other_employment_type:x.employment_type,s=[{rent_cost:x.rent_cost},{ownership_status:t},{employment_type:n},{total_income:x.total_income},{account_balance:x.account_balance},{credit_length:x.credit_length},{credit_limit:x.credit_limit},{credit_line_status:x.credit_line_status},{credit_overdue:x.credit_overdue},{total_loans:x.total_loans},{total_credit_cards:x.total_credit_cards}],i=await (0,c.ET)((0,c.hJ)(l.db,"users",e.uid,"creditScoreResponses"),{responses:s,timestamp:new Date});m(e=>e+1),i&&i.id?E(e.uid,i.id):console.error("Document creation failed. No ID returned.")}catch(e){console.error("Error saving credit score data:",e)}};return n?(0,s.jsx)("div",{children:"Loading..."}):(0,s.jsx)("div",{className:"credit-score-container",children:(0,s.jsx)("div",{className:"credit-score-section",children:(0,s.jsx)(a.M,{mode:"wait",children:(0,s.jsxs)(r.E.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.4,ease:"easeInOut"},className:"step-container",children:[0===p&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"highlight",children:"A Few Questions"}),(0,s.jsx)("p",{children:"We want to get to know you!"}),(0,s.jsx)("label",{children:"How much do you typically pay for rent each month?"}),(0,s.jsx)("input",{type:"number",placeholder:"Enter rent cost",className:"text-input",value:x.rent_cost,onChange:e=>j("rent_cost",e.target.value)}),(0,s.jsx)("label",{children:"Do you rent, own your home, or live with family/friends?"}),(0,s.jsxs)("select",{className:"text-input",value:x.ownership_status,onChange:e=>j("ownership_status",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select"}),(0,s.jsx)("option",{value:"Rent",children:"Rent"}),(0,s.jsx)("option",{value:"Own your home",children:"Own your home"}),(0,s.jsx)("option",{value:"Live with family/friends",children:"Live with family/friends"}),(0,s.jsx)("option",{value:"Other",children:"Other"})]}),"Other"===x.ownership_status&&(0,s.jsx)("div",{children:(0,s.jsx)("input",{type:"text",placeholder:"Please specify other ownership status",className:"text-input",value:x.other_ownership_status,onChange:e=>j("other_ownership_status",e.target.value)})}),(0,s.jsx)("div",{className:"navigation-buttons",children:(0,s.jsx)("button",{className:"next-button",onClick:b,children:"Next"})})]}),1===p&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"highlight",children:"Income Information"}),(0,s.jsx)("label",{children:"What type of employment are you currently in? (e.g., full-time, part-time, student job, etc.)"}),(0,s.jsxs)("select",{className:"text-input",value:x.employment_type,onChange:e=>j("employment_type",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select"}),(0,s.jsx)("option",{value:"Full-time",children:"Full-time"}),(0,s.jsx)("option",{value:"Part-time",children:"Part-time"}),(0,s.jsx)("option",{value:"Student job",children:"Student job"}),(0,s.jsx)("option",{value:"Other",children:"Other"})]}),"Other"===x.employment_type&&(0,s.jsx)("div",{children:(0,s.jsx)("input",{type:"text",placeholder:"Please specify other employment type",className:"text-input",value:x.other_employment_type,onChange:e=>j("other_employment_type",e.target.value)})}),(0,s.jsx)("label",{children:"What’s your total monthly income (before taxes)?"}),(0,s.jsx)("input",{type:"number",placeholder:"Enter total income",className:"text-input",value:x.total_income,onChange:e=>j("total_income",e.target.value)}),(0,s.jsxs)("div",{className:"navigation-buttons",children:[(0,s.jsx)("button",{className:"back-button",onClick:g,children:"Go Back"}),(0,s.jsx)("button",{className:"next-button",onClick:b,children:"Next"})]})]}),2===p&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"highlight",children:"Account Balance"}),(0,s.jsx)("label",{children:"What’s the current balance in your primary bank account?"}),(0,s.jsx)("input",{type:"number",placeholder:"Enter account balance",className:"text-input",value:x.account_balance,onChange:e=>j("account_balance",e.target.value)}),(0,s.jsxs)("div",{className:"navigation-buttons",children:[(0,s.jsx)("button",{className:"back-button",onClick:g,children:"Go Back"}),(0,s.jsx)("button",{className:"next-button",onClick:b,children:"Next"})]})]}),3===p&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"highlight",children:"Credit History"}),(0,s.jsx)("label",{children:"How long have you had credit accounts (e.g., credit cards, loans)?"}),(0,s.jsxs)("select",{className:"text-input",value:x.credit_length,onChange:e=>j("credit_length",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select"}),(0,s.jsx)("option",{value:"< 1",children:"< 1 year"}),Array.from({length:20},(e,t)=>t+1).map(e=>(0,s.jsxs)("option",{value:e,children:[e," ",1===e?"year":"years"]},e))]}),(0,s.jsx)("label",{children:"What’s the total credit limit on all your credit cards and lines of credit?"}),(0,s.jsx)("input",{type:"number",placeholder:"Enter credit limit",className:"text-input",value:x.credit_limit,onChange:e=>j("credit_limit",e.target.value)}),(0,s.jsx)("label",{children:"Have any of your credit lines been closed or suspended recently?"}),(0,s.jsxs)("select",{className:"text-input",value:x.credit_line_status,onChange:e=>j("credit_line_status",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select"}),(0,s.jsx)("option",{value:"Yes",children:"Yes"}),(0,s.jsx)("option",{value:"No",children:"No"})]}),(0,s.jsx)("label",{children:"Do you currently have any overdue payments on your credit accounts?"}),(0,s.jsxs)("select",{className:"text-input",value:x.credit_overdue,onChange:e=>j("credit_overdue",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select"}),(0,s.jsx)("option",{value:"Yes",children:"Yes"}),(0,s.jsx)("option",{value:"No",children:"No"})]}),(0,s.jsx)("label",{children:"How many active loans (e.g., student loans, car loans) do you have right now?"}),(0,s.jsx)("input",{type:"number",placeholder:"Enter number of loans",className:"text-input",value:x.total_loans,onChange:e=>j("total_loans",e.target.value)}),(0,s.jsx)("label",{children:"How many active credit cards do you have right now?"}),(0,s.jsx)("input",{type:"number",placeholder:"Enter number of credit lines",className:"text-input",value:x.total_credit_cards,onChange:e=>j("total_credit_cards",e.target.value)}),(0,s.jsxs)("div",{className:"navigation-buttons",children:[(0,s.jsx)("button",{className:"back-button",onClick:g,children:"Go Back"}),(0,s.jsx)("button",{className:"next-button",onClick:b,children:"Next"})]})]}),4===p&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"highlight",children:"Review and Submit"}),(0,s.jsx)("p",{children:'Please review your information and click "Finish" to submit.'}),(0,s.jsxs)("div",{className:"navigation-buttons",children:[(0,s.jsx)("button",{className:"back-button",onClick:g,children:"Go Back"}),(0,s.jsx)("button",{className:"next-button",onClick:S,children:"Finish"})]})]}),5===p&&(0,s.jsx)("div",{className:"final-credit-score-container",children:(0,s.jsxs)("div",{className:"parent-credit-container",children:[(0,s.jsxs)("div",{className:"credit-info-container",children:[(0,s.jsx)("h1",{className:"credit-health-title",children:"Credit Health"}),(0,s.jsxs)("h2",{className:"credit-score-subtitle",children:["status: ",(e=null!=w?w:0)<500?"Poor":e>=500&&e<750?"Mediocre":e>=750?"Good":"Unknown"]}),(0,s.jsx)("div",{className:"credit-score-content",children:(0,s.jsx)(r.E.div,{className:"parent-container",layout:!0,transition:{type:"spring",stiffness:120,damping:14},children:(0,s.jsxs)("div",{className:"credit-factors",children:[(0,s.jsx)("h3",{children:"Credit Factors"}),(0,s.jsx)("p",{children:"Dig into your credit card and payment history first. You can improve those factors quickly."}),(0,s.jsx)("ul",{children:[{label:"New Credit",weight:"10%",statusKey:"new_credit_status",description:"New credit accounts impact your score."},{label:"Amounts Owed",weight:"30%",statusKey:"credit_utilization_status",description:"The amount you owe impacts credit utilization."},{label:"Length of Credit History",weight:"15%",statusKey:"credit_history_status",description:"Longer credit history can boost your score."},{label:"Credit Mix",weight:"10%",statusKey:"credit_mix_status",description:"A diverse credit mix is beneficial."},{label:"Payment History",weight:"35%",statusKey:"payment_history_status",description:"Consistent on-time payments improve credit scores."}].map((e,t)=>(0,s.jsxs)("li",{onMouseEnter:()=>v(t),onMouseLeave:()=>v(null),style:{position:"relative"},children:[(0,s.jsxs)("div",{className:"credit-factor-item",children:[(0,s.jsx)("span",{className:"credit-label",children:e.label}),(0,s.jsx)("span",{className:"credit-weight",children:e.weight})]}),(0,s.jsx)("p",{className:"credit-status",style:{color:"Good"!==C[e.statusKey]?"red":"green"},children:C[e.statusKey]}),(0,s.jsx)(a.M,{children:_===t&&(0,s.jsx)(d,{ref:f,isOpen:!0,text:e.description})})]},t))}),(0,s.jsx)("p",{className:"disclaimer",children:"In no way is this a precise reflection of the actual FICO/Vantage score. This is strictly for demonstration purposes and does not represent any form of financial equivalence."})]})})})]}),(0,s.jsx)("div",{className:"nav-to-dashboard",children:(0,s.jsx)("button",{className:"first-back-button",onClick:()=>t.push("/"),children:"See what you can do with you're score"})})]})})]},p)})})})}},3605:function(e,t,n){"use strict";n.d(t,{I:function(){return l},db:function(){return c},t:function(){return u}});var s=n(6142),i=n(2730),a=n(8121),r=n(4905);let o=(0,s.ZF)({apiKey:"AIzaSyDOtb6YCz277ulMA94ehs_yM3mDDT5lnF4",authDomain:"unipayf24.firebaseapp.com",projectId:"unipayf24",storageBucket:"unipayf24.firebasestorage.app",messagingSenderId:"611946450050",appId:"1:611946450050:web:39b94fae0051e7bf3cb89b",measurementId:"G-XW6S94C7H8"}),l=(0,i.v0)(o),c=(0,a.ad)(o),u=(0,r.cF)(o)},1673:function(){},8745:function(e,t,n){"use strict";n.d(t,{M:function(){return _}});var s=n(3827),i=n(4090),a=n(3856),r=n(2435),o=n(4561),l=n(3449);class c extends i.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function u(e){let{children:t,isPresent:n}=e,a=(0,i.useId)(),r=(0,i.useRef)(null),o=(0,i.useRef)({width:0,height:0,top:0,left:0}),{nonce:u}=(0,i.useContext)(l._);return(0,i.useInsertionEffect)(()=>{let{width:e,height:t,top:s,left:i}=o.current;if(n||!r.current||!e||!t)return;r.current.dataset.motionPopId=a;let l=document.createElement("style");return u&&(l.nonce=u),document.head.appendChild(l),l.sheet&&l.sheet.insertRule('\n          [data-motion-pop-id="'.concat(a,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(s,"px !important;\n            left: ").concat(i,"px !important;\n          }\n        ")),()=>{document.head.removeChild(l)}},[n]),(0,s.jsx)(c,{isPresent:n,childRef:r,sizeRef:o,children:i.cloneElement(t,{ref:r})})}let d=e=>{let{children:t,initial:n,isPresent:a,onExitComplete:l,custom:c,presenceAffectsLayout:d,mode:p}=e,m=(0,r.h)(h),x=(0,i.useId)(),y=(0,i.useCallback)(e=>{for(let t of(m.set(e,!0),m.values()))if(!t)return;l&&l()},[m,l]),_=(0,i.useMemo)(()=>({id:x,initial:n,isPresent:a,custom:c,onExitComplete:y,register:e=>(m.set(e,!1),()=>m.delete(e))}),d?[Math.random(),y]:[a,y]);return(0,i.useMemo)(()=>{m.forEach((e,t)=>m.set(t,!1))},[a]),i.useEffect(()=>{a||m.size||!l||l()},[a]),"popLayout"===p&&(t=(0,s.jsx)(u,{isPresent:a,children:t})),(0,s.jsx)(o.O.Provider,{value:_,children:t})};function h(){return new Map}var p=n(3177);let m=e=>e.key||"";function x(e){let t=[];return i.Children.forEach(e,e=>{(0,i.isValidElement)(e)&&t.push(e)}),t}var y=n(5526);let _=e=>{let{children:t,custom:n,initial:o=!0,onExitComplete:l,presenceAffectsLayout:c=!0,mode:u="sync",propagate:h=!1}=e,[_,v]=(0,p.oO)(h),f=(0,i.useMemo)(()=>x(t),[t]),j=h&&!_?[]:f.map(m),b=(0,i.useRef)(!0),g=(0,i.useRef)(f),w=(0,r.h)(()=>new Map),[N,C]=(0,i.useState)(f),[k,E]=(0,i.useState)(f);(0,y.L)(()=>{b.current=!1,g.current=f;for(let e=0;e<k.length;e++){let t=m(k[e]);j.includes(t)?w.delete(t):!0!==w.get(t)&&w.set(t,!1)}},[k,j.length,j.join("-")]);let S=[];if(f!==N){let e=[...f];for(let t=0;t<k.length;t++){let n=k[t],s=m(n);j.includes(s)||(e.splice(t,0,n),S.push(n))}"wait"===u&&S.length&&(e=S),E(x(e)),C(f);return}let{forceRender:O}=(0,i.useContext)(a.p);return(0,s.jsx)(s.Fragment,{children:k.map(e=>{let t=m(e),i=(!h||!!_)&&(f===k||j.includes(t));return(0,s.jsx)(d,{isPresent:i,initial:(!b.current||!!o)&&void 0,custom:i?void 0:n,presenceAffectsLayout:c,mode:u,onExitComplete:i?void 0:()=>{if(!w.has(t))return;w.set(t,!0);let e=!0;w.forEach(t=>{t||(e=!1)}),e&&(null==O||O(),E(g.current),h&&(null==v||v()),l&&l())},children:e},t)})})}}},function(e){e.O(0,[358,315,753,293,478,69,744],function(){return e(e.s=3681)}),_N_E=e.O()}]);